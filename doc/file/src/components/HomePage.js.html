<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/components/HomePage.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/coryhouse/react-slingshot" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">actions</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-addSiteVersion">addSiteVersion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-addSiteVersionSuccess">addSiteVersionSuccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-deleteSiteVersion">deleteSiteVersion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-deleteSiteVersionSuccess">deleteSiteVersionSuccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadModes">loadModes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadModesSuccess">loadModesSuccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadSiteVersions">loadSiteVersions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadSiteVersionsSuccess">loadSiteVersionsSuccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadVersions">loadVersions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadVersionsSuccess">loadVersionsSuccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateSiteVersion">updateSiteVersion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateSiteVersionSuccess">updateSiteVersionSuccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadFiles">loadFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadFilesSuccess">loadFilesSuccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uploadFiles">uploadFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uploadFilesSuccess">uploadFilesSuccess</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">api</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/mockModeApi.js~ModeApi.html">ModeApi</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/mockSiteVersionApi.js~SiteVersionApi.html">SiteVersionApi</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/mockUploadApi.js~UploadApi.html">UploadApi</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/mockVersionApi.js~VersionApi.html">VersionApi</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/App.js~App.html">App</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/HomePage.js~HomePage.html">HomePage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-NotFoundPage">NotFoundPage</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">constants</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CREATE_SITEVERSIONS">CREATE_SITEVERSIONS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DELETE_SITEVERSIONS">DELETE_SITEVERSIONS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOAD_FILES_SUCCESS">LOAD_FILES_SUCCESS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOAD_MODES">LOAD_MODES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOAD_SITEVERSIONS">LOAD_SITEVERSIONS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOAD_VERSIONS">LOAD_VERSIONS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-UPDATE_SITEVERSIONS">UPDATE_SITEVERSIONS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-UPLOAD_FILES_SUCCESS">UPLOAD_FILES_SUCCESS</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">reducers</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-modes">modes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uploadFiles">uploadFiles</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-versions">versions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-rootReducer">rootReducer</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">store</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configureStore">configureStore</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/components/HomePage.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React, { Component, PropTypes } from &apos;react&apos;;
// import shallowCompare from &apos;react-addons-shallow-compare&apos;;
import { connect } from &apos;react-redux&apos;;
import { bindActionCreators } from &apos;redux&apos;;
import * as siteVersionActions from &apos;../actions/siteVersionActions&apos;;
import * as uploadActions from &apos;../actions/uploadActions&apos;;
import Dialog from &apos;material-ui/Dialog&apos;;
import FlatButton from &apos;material-ui/FlatButton&apos;;
import RaisedButton from &apos;material-ui/RaisedButton&apos;;
import { Table, TableBody, TableHeader, TableHeaderColumn, TableRow } from &apos;material-ui/Table&apos;;
import GridRow from &apos;../containers/GridRow&apos;;
import Uploader from &apos;./Uploader&apos;;

/**
 * 
 * 
 * @export
 * @class HomePage
 * @extends {Component}
 */
export class HomePage extends Component {
  /**
   * Creates an instance of HomePage.
   * @param {any} props 
   * 
   * @memberOf HomePage
   */
  constructor(props) {
    super(props);
    this.state = {
      defaultSiteVersion: {
        versionValue: &apos;&apos;,
        modeValue: &apos;&apos;,
        isActive: false,
      },
      open: false,
      UploaderData: {}
    };
    this.addSiteVersion = this.addSiteVersion.bind(this);
    this.updateSiteVersion = this.updateSiteVersion.bind(this);
    this.deleteSiteVersion = this.deleteSiteVersion.bind(this);
    this.handleOpen = this.handleOpen.bind(this);
    this.handleClose = this.handleClose.bind(this);
    this.getUploaderData = this.getUploaderData.bind(this);
    this.onSubmit = this.onSubmit.bind(this);
  }

  /**
   * 
   * 
   * 
   * @memberOf HomePage
   */
  componentWillMount() {
    this.props.siteVersionActions.loadModes();
    this.props.siteVersionActions.loadVersions();
    this.props.siteVersionActions.loadSiteVersions();
    this.props.uploadActions.loadFiles();
  }

  /**
   * 
   * 
   * @param {any} siteVersion 
   * 
   * @memberOf HomePage
   */
  addSiteVersion(siteVersion) {
    this.props.siteVersionActions.addSiteVersion(siteVersion);
  }

  /**
   * 
   * 
   * @param {any} siteVersion 
   * 
   * @memberOf HomePage
   */
  updateSiteVersion(siteVersion) {
    this.props.siteVersionActions.updateSiteVersion(siteVersion);
  }

  /**
   * 
   * 
   * @param {any} siteVersion 
   * 
   * @memberOf HomePage
   */
  deleteSiteVersion(siteVersion) {
    this.props.siteVersionActions.deleteSiteVersion(siteVersion);
  }

  /**
   * 
   * 
   * 
   * @memberOf HomePage
   */
  handleOpen() {
    this.setState({ open: true });
  }

  /**
   * 
   * 
   * 
   * @memberOf HomePage
   */
  handleClose() {
    this.setState({ open: false });
  }

  /**
   * 
   * 
   * @param {any} UploaderData 
   * 
   * @memberOf HomePage
   */
  getUploaderData(UploaderData) {
    this.setState({ UploaderData });
  }

  /**
   * 
   * 
   * 
   * @memberOf HomePage
   */
  onSubmit() {
    this.setState({ open: false });
    this.props.uploadActions.uploadFiles(this.state.UploaderData);
  }

  /**
   * 
   * 
   * @returns 
   * 
   * @memberOf HomePage
   */
  render() {
    // const uploadedFiles = this.props.files.map((fls, i) =&gt;
    //   &lt;TableRow key={i}&gt;
    //     &lt;TableRowColumn&gt;
    //       &lt;ul&gt;
    //         {
    //           fls.files.map((file, i) =&gt; &lt;li key={i}&gt;{file.name}&lt;/li&gt;)
    //         }
    //       &lt;/ul&gt;
    //     &lt;/TableRowColumn&gt;
    //     &lt;TableRowColumn&gt;
    //       {fls.ZipCheck ? &apos;True&apos; : &apos;False&apos;}
    //     &lt;/TableRowColumn&gt;
    //     &lt;TableRowColumn style={{ width: 24 }}&gt;
    //       {fls.PDFCheck ? &apos;True&apos; : &apos;False&apos;}
    //     &lt;/TableRowColumn&gt;
    //   &lt;/TableRow&gt;
    // );

    const gridRows = this.props.siteVersion.map((sv, i) =&gt;
      &lt;GridRow
        key={i}
        versions={this.props.versions}
        modes={this.props.modes}
        siteVersion={sv}
        deleteRow={this.deleteSiteVersion}
        updateSiteVersion={this.updateSiteVersion}
      /&gt;
    );
    const actions = [
      &lt;FlatButton
        key=&quot;0&quot;
        label=&quot;Cancel&quot;
        primary={true}
        onTouchTap={this.handleClose}
      /&gt;,
      &lt;FlatButton
        key=&quot;1&quot;
        label=&quot;Upload and Create&quot;
        primary={true}
        onTouchTap={this.onSubmit}
      /&gt;,
    ];

    return (
      &lt;div&gt;
        &lt;RaisedButton primary={true} label=&quot;Add Site Version&quot; onClick={() =&gt; this.addSiteVersion(this.state.defaultSiteVersion)} labelStyle={{ textTransform: &apos;none&apos; }} style={{ margin: &apos;20px 0&apos; }} /&gt;
        &lt;Table selectable={false} height=&quot;220px&quot; style={{ border: &apos;1px solid rgb(224, 224, 224)&apos; }}&gt;
          &lt;TableHeader displaySelectAll={false} adjustForCheckbox={false}&gt;
            &lt;TableRow&gt;
              &lt;TableHeaderColumn style={{ textAlign: &apos;center&apos; }} children=&quot;Version&quot; className=&quot;header&quot; /&gt;
              &lt;TableHeaderColumn style={{ textAlign: &apos;center&apos; }} children=&quot;Mode&quot; /&gt;
              &lt;TableHeaderColumn style={{ width: 24, textAlign: &apos;center&apos; }} children=&quot;Activate&quot; /&gt;
              &lt;TableHeaderColumn style={{ width: 24, textAlign: &apos;center&apos; }} /&gt;
            &lt;/TableRow&gt;
          &lt;/TableHeader&gt;
          &lt;TableBody displayRowCheckbox={false}&gt;
            {gridRows}
          &lt;/TableBody&gt;
        &lt;/Table&gt;
        &lt;RaisedButton primary={true} label=&quot;Bulk Upload&quot; onTouchTap={this.handleOpen} labelStyle={{ textTransform: &apos;none&apos; }}/&gt;
        &lt;Dialog
          actions={actions}
          modal={true}
          open={this.state.open}
        &gt;
          &lt;Uploader multiple={true} onDataChange={this.getUploaderData} /&gt;
        &lt;/Dialog&gt;

      &lt;/div&gt;
    );
  }
}

HomePage.propTypes = {
  modes: PropTypes.array.isRequired,
  versions: PropTypes.array.isRequired,
  siteVersion: PropTypes.array.isRequired,
  files: PropTypes.array.isRequired,
  siteVersionActions: PropTypes.object.isRequired,
  uploadActions: PropTypes.object.isRequired,
};

/**
 * 
 * 
 * @param {any} state 
 * @returns 
 */
function mapStateToProps(state) {
  return {
    modes: state.modes,
    versions: state.versions,
    siteVersion: state.siteVersion,
    files: state.uploadFile,
  };
}
/**
 * 
 * 
 * @param {any} dispatch 
 * @returns 
 */
function mapDispatchToProps(dispatch) {
  return {
    siteVersionActions: bindActionCreators(siteVersionActions, dispatch),
    uploadActions: bindActionCreators(uploadActions, dispatch),
  };
}

export default connect(mapStateToProps, mapDispatchToProps)(HomePage);</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
